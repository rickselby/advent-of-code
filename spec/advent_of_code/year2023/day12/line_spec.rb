# frozen_string_literal: true

describe AdventOfCode::Year2023::Day12::Line do
  describe "possibilities" do
    subject { described_class.new(line).possibilities }

    data = {
      "???.### 1,1,3" => 1,
      ".??..??...?##. 1,1,3" => 4,
      "?#?#?#?#?#?#?#? 1,3,1,6" => 1,
      "????.#...#... 4,1,1" => 1,
      "????.######..#####. 1,6,5" => 4,
      "?###???????? 3,2,1" => 10,
      "?###????###? 3,2,3" => 1,
      "??#????.?#..??# 4,1,1,3" => 3,
      "???.?????.#.. 4,1" => 2,
      "?????.???.#.. 4,1" => 2,
      "?????.?????.#.. 4,1" => 4,
      "??#???#?????.? 5,1,1" => 12,
      "??????..?.??# 1,2,1,1" => 13
    }

    data.each do |line, result|
      context "with the line #{line}" do
        let(:line) { line }

        it { is_expected.to eq result }
      end
    end
  end
end
